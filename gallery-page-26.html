<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Art Assets Gallery</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 16px; background: #f7f7f7; }
    .controls { margin-bottom: 12px; display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 12px; }
    .card { background: #fff; padding: 10px; border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.12); display: flex; flex-direction: column; gap: 8px; }
    .thumb { width: 100%; height: 180px; object-fit: cover; background: #eee; }
    .meta { font-size: 12px; color: #444; line-height: 1.4; }
    .artist { font-weight: bold; color: #222; }
    .title { font-style: italic; color: #666; }
    .tags { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 4px; }
    .tag { background: #e3f2fd; color: #1976d2; padding: 2px 6px; border-radius: 10px; font-size: 11px; }
    label { cursor: pointer; }
    input[type="search"] { padding: 6px; }
    button { padding: 6px 10px; cursor: pointer; }
    .count { font-size: 12px; color: #666; }
    .path { font-size: 12px; word-break: break-all; color: #222; }
  </style>
</head>
<body>
  <div class="controls">
    <label><input type="checkbox" id="selectAll" /> Select all</label>
    <button id="copy">Copy selected paths</button>
    <input type="search" id="pathFilter" placeholder="Filter by path" size="30" />
    <input type="search" id="artistFilter" placeholder="Filter by artist" size="25" />
    <input type="search" id="tagFilter" placeholder="Filter by tag" size="25" />
    <button id="clearFilters">Clear filters</button>
    <span class="count" id="count"></span>
    <span class="count" id="pageInfo"></span>
  </div>
  <div class="grid" id="grid"></div>
  <script>
    const data = [{"art_id":"0ed93c83-cda2-49bb-b6fe-db60d74dec2f","storage_path":"weird-tales/weird-tales-january-1943-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Covers/weird-tales/weird-tales-january-1943-jpgjpg","width":400,"height":596,"file_size":55901,"artist_name":"Weird Tales","art_title":"Weird Tales January","tags":[]},{"art_id":"b1e2d0c3-6c60-4c9c-b7de-be368773a781","storage_path":"weird-tales/weird-tales-january-1942-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-january-1942-jpgjpg","width":400,"height":588,"file_size":74335,"artist_name":"Weird Tales","art_title":"Weird Tales January 1942","tags":[]},{"art_id":"4c544b1f-75be-4485-b8c0-5c03d2f1847c","storage_path":"weird-tales/weird-tales-january-1941-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-january-1941-jpgjpg","width":400,"height":596,"file_size":91850,"artist_name":"Weird Tales","art_title":"Weird Tales January 1941","tags":[]},{"art_id":"44ef904f-be53-4762-bae3-e74f4896ca5e","storage_path":"weird-tales/weird-tales-january-1940-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-january-1940-jpgjpg","width":400,"height":588,"file_size":87855,"artist_name":"Weird Tales","art_title":"Weird Tales January 1940","tags":[]},{"art_id":"c7e8f4f4-0329-46b8-98d4-2af8b1090a5c","storage_path":"weird-tales/weird-tales-september-1939-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-september-1939-jpgjpg","width":400,"height":588,"file_size":69824,"artist_name":"Weird Tales","art_title":"Weird Tales September 1939","tags":[]},{"art_id":"17453eea-40f9-4fbc-86e7-975176e5af46","storage_path":"weird-tales/weird-tales-november-1939-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-november-1939-jpgjpg","width":705,"height":1024,"file_size":218666,"artist_name":"Weird Tales","art_title":"Weird Tales November 1939","tags":[]},{"art_id":"746bd770-d426-442e-b472-231d04efa4f4","storage_path":"weird-tales/weird-tales-february-1939-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-february-1939-jpgjpg","width":400,"height":598,"file_size":88701,"artist_name":"Weird Tales","art_title":"Weird Tales February 1939","tags":[]},{"art_id":"8d1a6f5b-4b8d-4154-85b4-61146390e5cd","storage_path":"weird-tales/weird-tales-december-1939-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-december-1939-jpgjpg","width":400,"height":586,"file_size":48637,"artist_name":"Weird Tales","art_title":"Weird Tales December 1939","tags":[]},{"art_id":"1357e6d6-4607-428a-939e-a52a3d7fe856","storage_path":"weird-tales/weird-tales-april-1939-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-april-1939-jpgjpg","width":400,"height":604,"file_size":82848,"artist_name":"Weird Tales","art_title":"Weird Tales April 1939","tags":[]},{"art_id":"74449a32-8929-4d25-854e-ebf07ea962a7","storage_path":"weird-tales/weird-tales-october-1938-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-october-1938-jpgjpg","width":400,"height":606,"file_size":69923,"artist_name":"Weird Tales","art_title":"Weird Tales October 1938","tags":[]},{"art_id":"523a3288-7935-4bd2-920a-a820a98d6d2d","storage_path":"weird-tales/weird-tales-may-1938-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-may-1938-jpgjpg","width":400,"height":604,"file_size":70709,"artist_name":"Weird Tales","art_title":"Weird Tales May 1938","tags":[]},{"art_id":"a027b607-0dd8-457f-9dda-2aa020963344","storage_path":"weird-tales/weird-tales-january-1938-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-january-1938-jpgjpg","width":441,"height":640,"file_size":46252,"artist_name":"Weird Tales","art_title":"Weird Tales January 1938","tags":[]},{"art_id":"c4fe36e7-ff9d-4b29-8f9f-2bd1a2beb7cf","storage_path":"weird-tales/weird-tales-february-1938-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-february-1938-jpgjpg","width":400,"height":575,"file_size":59223,"artist_name":"Weird Tales","art_title":"Weird Tales February 1938","tags":[]},{"art_id":"d53a4604-13e3-458b-83f9-65c26cea02fa","storage_path":"weird-tales/weird-tales-december-1938-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-december-1938-jpgjpg","width":400,"height":598,"file_size":52711,"artist_name":"Weird Tales","art_title":"Weird Tales December 1938","tags":[]},{"art_id":"520a8f0d-e807-4fac-a1c4-191383ca47d2","storage_path":"weird-tales/weird-tales-august-1938-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-august-1938-jpgjpg","width":400,"height":592,"file_size":63212,"artist_name":"Weird Tales","art_title":"Weird Tales August 1938","tags":[]},{"art_id":"962213a3-6336-4956-b74a-0c76694c0ef6","storage_path":"weird-tales/weird-tales-april-1938-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-april-1938-jpgjpg","width":403,"height":595,"file_size":74901,"artist_name":"Weird Tales","art_title":"Weird Tales April 1938","tags":[]},{"art_id":"a7df18f2-100e-429a-9453-137725b4ee96","storage_path":"weird-tales/weird-tales-may-1937-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-may-1937-jpgjpg","width":400,"height":592,"file_size":62364,"artist_name":"Weird Tales","art_title":"Weird Tales May 1937","tags":[]},{"art_id":"cb96fef4-5209-4a67-8b62-f1fb4f763007","storage_path":"weird-tales/weird-tales-july-1937-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-july-1937-jpgjpg","width":400,"height":594,"file_size":68444,"artist_name":"Weird Tales","art_title":"Weird Tales July 1937","tags":[]},{"art_id":"95f22cb6-61d4-4897-96e1-45bac77f4e4e","storage_path":"weird-tales/weird-tales-august-1937-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-august-1937-jpgjpg","width":400,"height":590,"file_size":69203,"artist_name":"Weird Tales","art_title":"Weird Tales August 1937","tags":[]},{"art_id":"7b4be61b-1ee9-4857-997f-1bfe67f7f8cc","storage_path":"weird-tales/weird-tales-july-1936-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-july-1936-jpgjpg","width":400,"height":605,"file_size":54723,"artist_name":"Weird Tales","art_title":"Weird Tales July 1936","tags":[]},{"art_id":"882348a4-66b2-4d92-8b37-3f84526e4cb3","storage_path":"weird-tales/weird-tales-november-1935-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-november-1935-jpgjpg","width":400,"height":593,"file_size":66493,"artist_name":"Weird Tales","art_title":"Weird Tales November 1935","tags":[]},{"art_id":"d84f6df2-9220-4d45-ab5e-81c571c07f5c","storage_path":"weird-tales/weird-tales-december-1935-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-december-1935-jpgjpg","width":400,"height":591,"file_size":65306,"artist_name":"Weird Tales","art_title":"Weird Tales December 1935","tags":[]},{"art_id":"f1778f28-e8b3-43d2-94c5-05604f8ee046","storage_path":"weird-tales/weird-tales-september-1934-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-september-1934-jpgjpg","width":400,"height":600,"file_size":22998,"artist_name":"Weird Tales","art_title":"Weird Tales September 1934","tags":[]},{"art_id":"75819e2e-aa0d-4db3-9ea1-359c23683fe8","storage_path":"weird-tales/weird-tales-may-1934-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-may-1934-jpgjpg","width":719,"height":1067,"file_size":237441,"artist_name":"Weird Tales","art_title":"Weird Tales May 1934","tags":[]},{"art_id":"afad0109-8ec5-4674-82c2-14d79e4e6787","storage_path":"weird-tales/weird-tales-august-1929-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-august-1929-jpgjpg","width":474,"height":675,"file_size":145832,"artist_name":"Weird Tales","art_title":"Weird Tales August 1929","tags":[]},{"art_id":"b6fd527b-1279-4458-9f6d-7935929b08c5","storage_path":"weird-tales/weird-tales-december-1929-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-december-1929-jpgjpg","width":400,"height":618,"file_size":62424,"artist_name":"Weird Tales","art_title":"Weird Tales December 1929","tags":[]},{"art_id":"21efe9b4-52c0-4181-8ef1-09a51ca24cfb","storage_path":"weird-tales/weird-tales-january-1929-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-january-1929-jpgjpg","width":405,"height":619,"file_size":56674,"artist_name":"Weird Tales","art_title":"Weird Tales January 1929","tags":[]},{"art_id":"3a9d68d1-62ad-4b2c-83e2-1f4a20deb17a","storage_path":"weird-tales/weird-tales-september-1927-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-september-1927-jpgjpg","width":400,"height":606,"file_size":91877,"artist_name":"Weird Tales","art_title":"Weird Tales September 1927","tags":[]},{"art_id":"79077eeb-deb7-47c1-bc92-5e899fd64de1","storage_path":"weird-tales/weird-tales-march-1927-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-march-1927-jpgjpg","width":400,"height":600,"file_size":45383,"artist_name":"Weird Tales","art_title":"Weird Tales March 1927","tags":[]},{"art_id":"7713c13d-5382-4bdf-ba76-f0badefef0d3","storage_path":"weird-tales/weird-tales-june-1927-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-june-1927-jpgjpg","width":400,"height":613,"file_size":67285,"artist_name":"Weird Tales","art_title":"Weird Tales June 1927","tags":[]},{"art_id":"7211ad22-b5bf-46a7-9f9a-b8deb72abb30","storage_path":"weird-tales/weird-tales-january-1927-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-january-1927-jpgjpg","width":400,"height":606,"file_size":60531,"artist_name":"Weird Tales","art_title":"Weird Tales January 1927","tags":[]},{"art_id":"81cf0233-a0f0-48ec-8aa4-68556e1110f7","storage_path":"weird-tales/weird-tales-february-1927-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-february-1927-jpgjpg","width":400,"height":585,"file_size":62986,"artist_name":"Weird Tales","art_title":"Weird Tales February 1927","tags":[]},{"art_id":"7afe071f-e1ff-4b29-8603-fe6b2fc6b3a8","storage_path":"weird-tales/weird-tales-december-1926-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-december-1926-jpgjpg","width":849,"height":1273,"file_size":411887,"artist_name":"Weird Tales","art_title":"Weird Tales December 1926","tags":[]},{"art_id":"4d36266e-0c24-4bbb-aa07-19bed6211403","storage_path":"weird-tales/weird-tales-april-1924-jpgjpg","public_url":"https://lxtkpwsxupzkxuhhmvvz.supabase.co/storage/v1/object/public/Art/weird-tales/weird-tales-april-1924-jpgjpg","width":432,"height":570,"file_size":52270,"artist_name":"Weird Tales","art_title":"Weird Tales April 1924","tags":[]}];
    const meta = {"limit":50,"offset":1250,"total":1284,"page":25,"pageCount":26};
    const grid = document.getElementById('grid');
    const selectAll = document.getElementById('selectAll');
    const copyBtn = document.getElementById('copy');
    const pathFilter = document.getElementById('pathFilter');
    const artistFilter = document.getElementById('artistFilter');
    const tagFilter = document.getElementById('tagFilter');
    const clearFiltersBtn = document.getElementById('clearFilters');
    const count = document.getElementById('count');
    const pageInfo = document.getElementById('pageInfo');

    function render(list) {
      grid.innerHTML = '';
      for (const row of list) {
        const card = document.createElement('div');
        card.className = 'card';
        card.dataset.path = row.storage_path.toLowerCase();
        card.dataset.artist = (row.artist_name || '').toLowerCase();
        card.dataset.tags = (row.tags || []).join(' ').toLowerCase();
        card.innerHTML = `
          <input type="checkbox" class="chk" data-path="${row.storage_path}">
          <img class="thumb" src="${row.public_url}" alt="${row.storage_path}">
          <div class="meta">
            <div class="path">${row.storage_path}</div>
            ${row.artist_name ? `<div class="artist">${row.artist_name}</div>` : ''}
            ${row.art_title ? `<div class="title">${row.art_title}</div>` : ''}
            ${row.tags && row.tags.length ? `<div class="tags">${row.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>` : ''}
            <div>Size: ${row.width || '?'} x ${row.height || '?'} | File: ${row.file_size ? (row.file_size/1024/1024).toFixed(2) + ' MB' : '?'}</div>
          </div>
        `;
        grid.appendChild(card);
      }
      applyFilters();
      const pageText = meta.page != null && meta.pageCount != null
        ? `Page ${meta.page + 1} / ${meta.pageCount}`
        : '';
      const totalText = meta.total != null ? `Total: ${meta.total}` : '';
      pageInfo.textContent = [pageText, `Offset: ${meta.offset}`, `Limit: ${meta.limit}`, totalText].filter(Boolean).join(' | ');
    }

    function applyFilters() {
      const pathQuery = pathFilter.value.trim().toLowerCase();
      const artistQuery = artistFilter.value.trim().toLowerCase();
      const tagQuery = tagFilter.value.trim().toLowerCase();

      const cards = Array.from(grid.children);
      let shown = 0;
      for (const c of cards) {
        const pathMatch = !pathQuery || c.dataset.path.includes(pathQuery);
        const artistMatch = !artistQuery || c.dataset.artist.includes(artistQuery);
        const tagMatch = !tagQuery || c.dataset.tags.includes(tagQuery);
        const match = pathMatch && artistMatch && tagMatch;
        c.style.display = match ? '' : 'none';
        if (match) shown++;
      }
      count.textContent = `Showing ${shown} item(s)`;
    }

    function currentCards() {
      return Array.from(grid.children).filter(c => c.style.display !== 'none');
    }

    function clearFilters() {
      pathFilter.value = '';
      artistFilter.value = '';
      tagFilter.value = '';
      applyFilters();
    }

    pathFilter.addEventListener('input', applyFilters);
    artistFilter.addEventListener('input', applyFilters);
    tagFilter.addEventListener('input', applyFilters);
    clearFiltersBtn.addEventListener('click', clearFilters);

    selectAll.addEventListener('change', () => {
      const cards = currentCards();
      cards.forEach(c => {
        const chk = c.querySelector('.chk');
        if (chk) chk.checked = selectAll.checked;
      });
    });

    copyBtn.addEventListener('click', async () => {
      const cards = currentCards();
      const paths = cards
        .map(c => c.querySelector('.chk'))
        .filter(chk => chk && chk.checked)
        .map(chk => chk.getAttribute('data-path'));
      if (!paths.length) {
        alert('No items selected.');
        return;
      }
      await navigator.clipboard.writeText(paths.join('\n'));
      alert(`Copied ${paths.length} path(s) to clipboard`);
    });

    render(data);
  </script>
</body>
</html>